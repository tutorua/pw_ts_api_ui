# pw_ts_api_ui

Framework for API and UI auto-tests using Playwright and Type Script integrated with Allure Reports.

## Project Structure

```
playwright-api-ui-framework/
â”œâ”€â”€ .github/                         # CI workflows (optional)
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ ci.yml
â”œâ”€â”€ allure-results/                  # Generated by Allure after test runs (gitignored)
â”œâ”€â”€ allure-report/                   # Generated HTML report (gitignored)
â”œâ”€â”€ reports/                         # Optional: for screenshots, videos, traces
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”œâ”€â”€ api/                     # API test specs
â”‚   â”‚   â”‚   â””â”€â”€ user.api.spec.ts
â”‚   â”‚   â”œâ”€â”€ ui/                      # UI test specs
â”‚   â”‚   â”‚   â””â”€â”€ login.ui.spec.ts
â”‚   â”‚   â””â”€â”€ utils/                   # Shared utilities/helpers
â”‚   â”‚       â”œâ”€â”€ apiClient.ts
â”‚   â”‚       â””â”€â”€ testData.ts
â”‚   â”œâ”€â”€ pages/                       # Page Object Model (POM) for UI
â”‚   â”‚   â””â”€â”€ LoginPage.ts
â”‚   â””â”€â”€ config/
â”‚       â”œâ”€â”€ env.ts                   # Environment config (dev, staging, prod)
â”‚       â””â”€â”€ playwright.config.ts     # Playwright config with Allure reporter
â”œâ”€â”€ .env                             # Environment variables (gitignored)
â”œâ”€â”€ .gitignore
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ playwright.config.ts             # Root config (symlink or duplicate of src/config)
â”œâ”€â”€ README.md
â””â”€â”€ allure.config.js                 # Optional: Allure config
```

## Step-by-Step Setup Guide

### 1 - Initialize Project & Install Dependencies
```
mkdir playwright-api-ui-framework
cd playwright-api-ui-framework
npm init -y
```
**Install core dependencies:**
```
npm install -D @playwright/test typescript ts-node dotenv
npm install -D allure-playwright allure-commandline
npm install -D @types/node
```
ðŸ’¡ allure-playwright integrates Allure reporting into Playwright.  
ðŸ’¡ allure-commandline lets you generate and serve reports locally.

### 2 - Configure TypeScript
Create tsconfig.json

### 3 - Environment Configuration
Create .env

### 4 - Playwright Configuration with Allure
Create src/config/playwright.config.ts (and optionally symlink or copy to root)
```
ðŸ’¡ You can symlink it to root for convenience: 
```
bash
ln -s src/config/playwright.config.ts playwright.config.ts
```
### 5 - Allure Report Configuration (Optional)
Create allure.config.js (optional for customizing report name, logo, etc.)

### 6 - Create Utility for API Testing
Create src/tests/utils/apiClient.ts

### 7 - Page Object for UI Testing

### 8 - Write Test Specs
**API Test:** src/tests/api/user.api.spec.ts
**UI Test:** src/tests/ui/login.ui.spec.ts

### 9 - Add "scripts" to package.json

### 10 - Create .gitignore

### 11 - Run Tests & Generate Allure Report
```
# Install Playwright browsers (first time)
npx playwright install

# Run all tests
npm run test

# Generate and open Allure report
npm run report
```

Resources:  
Playwright Docs: https://playwright.dev/docs/intro  
Allure Playwright: https://github.com/allure-framework/allure-js/tree/master/packages/allure-playwright  
Allure CLI: https://docs.qameta.io/allure-report/

